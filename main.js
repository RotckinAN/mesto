(()=>{"use strict";var e={popup:".popup",popupClose:"popup__close",editButton:".profile__edit-button",popupContentEdit:".popup__content_type_editProfile",popupContentAdd:".popup__content_type_addPicture",itemInputName:".popup__item_input_name",itemInputJob:".popup__item_input_job",profTitle:".profile__title",profSubtitle:".profile__subtitle",profileAvatar:".profile__avatar",openedPopup:"popup_opened",addButton:".profile__add-button",popupEdit:".popup_type_editProfile",popupAdd:".popup_type_addPicture",template:".template",elementsList:".elements__list",elementsItem:".elements__item",itemPictureName:".popup__item_input_pictureName",inputPicture:".popup__item_input_picture",elementPhoto:".element__photo",elementPhotoTitle:".element__title",buttonRemove:".element__trash",buttonLike:".element__like",buttonLikeActive:"element__like_active",photoFullSize:".popup_type_photo-FullSize",photoFullSizeTitle:".popup__title",photoFullSizeElement:".popup__photoElement",form:".popup__content",inputErrorActive:"popup__input-error_active",popupError:"popup__item_type_error",button:".popup__save-button",buttonInvalid:"popup__save-button_invalid",inputError:".popup__input-error",popupItem:".popup__item",likeNumbers:".element__likeNumbers",hiddenButtonRemove:"element__trash_type_hidden",popupDelete:".popup_type_confirmDelete",editAvatarButton:".profile__overlay",avatarEdit:".popup_type_avatarUpdate",popupContentAvatarEdit:".popup__content_type_editAvatar"},t=document.querySelector(e.editButton),n=document.querySelector(e.addButton),r=document.querySelector(e.popupContentEdit),o=r.querySelector(e.itemInputName),i=r.querySelector(e.itemInputJob),u=document.querySelector(e.profTitle),c=document.querySelector(e.profSubtitle),a=document.querySelector(e.profileAvatar),l=document.querySelector(e.popupEdit),s=document.querySelector(e.popupAdd),p=s.querySelector(e.popupContentAdd),f=document.querySelector(e.elementsList),h=document.querySelector(e.photoFullSize),y=(h.querySelector(e.photoFullSizeTitle),h.querySelector(e.photoFullSizeElement),document.querySelector(e.popupDelete)),d=document.querySelector(e.editAvatarButton),_=document.querySelector(e.avatarEdit),m=_.querySelector(e.popupContentAvatarEdit);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function t(e,n){var r=e.data,o=e.handleCardClick,i=e.handleLikeClick,u=e.handleDeleteIconClick,c=e.getUserId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r.name,this._link=r.link,this._cardUserId=r.owner._id,this._likesNumber=r.likes.length,this._idCard=r._id,this._likesId=r.likes,this._handleCardClick=o,this._handleLikeClick=i,this._templateSelector=n,this._getUserId=c,this._activateDeleteButton=u,this._element=this._getTemplate()}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(e.elementsItem).cloneNode(!0)}},{key:"_hideDeleteButton",value:function(t){this._getUserId()!==this._cardUserId?t.querySelector(e.buttonRemove).classList.add(e.hiddenButtonRemove):t.querySelector(e.buttonRemove).classList.remove(e.hiddenButtonRemove)}},{key:"_getInintialLikesNumber",value:function(){var t=this;this._element.querySelector(e.likeNumbers).textContent=this._likesNumber,this._likesId.forEach((function(n){n._id===t._getUserId()&&t._element.querySelector(e.buttonLike).classList.add(e.buttonLikeActive)}))}},{key:"getNumbersOfLikes",value:function(t){this._element.querySelector(e.likeNumbers).textContent=t}},{key:"generateCard",value:function(){var t=this;return this._photo=this._element.querySelector(e.elementPhoto),this._photo.src=this._link,this._photo.alt=this._name,this._element.querySelector(e.elementPhotoTitle).textContent=this._name,this._hideDeleteButton(this._element),this._getInintialLikesNumber(),this._element.querySelector(e.buttonRemove).addEventListener("click",(function(e){t._activateDeleteButton(t._idCard,t._element)})),this._element.querySelector(e.buttonLike).addEventListener("click",(function(){t._handleLikeClick(t._element,t._idCard)})),this._photo.addEventListener("click",(function(){t._handleCardClick(t._photo)})),this._element}}])&&b(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputErrorActive=t.inputErrorActive,this._popupError=t.popupError,this._buttonInvalid=t.buttonInvalid,this._inputError=t.inputError,this._popupItem=t.popupItem,this._formType=n,this._submitButton=r,this._inputArray=Array.from(this._formType.querySelectorAll(this._popupItem)),this._formErrorArray=Array.from(this._formType.querySelectorAll(this._inputError))}var t,n;return t=e,(n=[{key:"_handleFormInput",value:function(e){this._showFieldError(e),this.setSubmitButtonState()}},{key:"_showFieldError",value:function(e){var t=e.target,n=t.validity.valid,r=this._formType.querySelector(".".concat(t.id,"-error"));n?(r.classList.remove(this._inputErrorActive),t.classList.remove(this._popupError)):(r.classList.add(this._inputErrorActive),r.textContent=t.validationMessage,t.classList.add(this._popupError))}},{key:"setSubmitButtonState",value:function(){this._formType.checkValidity()?(this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove(this._buttonInvalid)):(this._submitButton.setAttribute("disabled",!0),this._submitButton.classList.add(this._buttonInvalid))}},{key:"hideErrorMessages",value:function(){var e=this;this._inputArray.forEach((function(t){t.classList.remove(e._popupError)})),this._formErrorArray.forEach((function(t){t.classList.remove(e._inputErrorActive)}))}},{key:"enableValidation",value:function(){var e=this;this._formType.addEventListener("input",(function(t){e._handleFormInput(t)}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=e,this._handleEscClose=this._handleEscClose.bind(this)}var n,r;return n=t,(r=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add(e.openedPopup),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove(e.openedPopup),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("mousedown",(function(n){n.target.classList.contains(e.openedPopup)&&t.close(),n.target.classList.contains(e.popupClose)&&t.close()}))}}])&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function q(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var A=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(c,t);var n,r,o,i,u=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(o);if(i){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function c(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).photoFullSizeLink=t.querySelector(e.photoFullSizeElement),n.photoFullSizeTitle=t.querySelector(e.photoFullSizeTitle),n}return n=c,(r=[{key:"open",value:function(e){this.photoFullSizeLink.src=e.src,this.photoFullSizeLink.alt=e.alt,this.photoFullSizeTitle.textContent=e.alt,C(R(c.prototype),"open",this).call(this)}}])&&P(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(O);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function x(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var z=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(c,t);var n,r,o,i,u=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(o);if(i){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,e))._callbackSubmitForm=t,n._form=n._getForm(),n}return n=c,(r=[{key:"_getForm",value:function(){return this._popupElement.querySelector(e.form)}},{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList=Array.from(this._form.querySelectorAll(e.popupItem)),this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmitForm(e._getInputValues())})),D(U(c.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._form.reset(),D(U(c.prototype),"close",this).call(this)}}])&&B(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(O);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(t){var n=t.userNameSelector,r=t.userInfoSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameSelector=n,this._userInfoSelector=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameSelector.textContent,about:this._userInfoSelector.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;t&&(this._userNameSelector.textContent=t),n&&(this._userInfoSelector.textContent=n)}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_getRequestData",value:function(){return function(e){return e.ok?e.json():Promise.reject("Произошла ошибка, код ошибки: ".concat(e.status))}}},{key:"getUserInfoByRequest",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:this._headers}).then(this._getRequestData())}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"cards"),{method:"GET",headers:this._headers}).then(this._getRequestData())}},{key:"patchProfileInfo",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._getRequestData())}},{key:"postNewPhoto",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._getRequestData())}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._getRequestData())}},{key:"putLike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._getRequestData())}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._getRequestData())}},{key:"patchProfileAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._getRequestData())}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},K.apply(this,arguments)}function Q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function X(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var Z=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(c,t);var n,r,o,i,u=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(o);if(i){var n=Y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return X(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,e))._callbackSubmit=t,n._form=n._getForm(),n}return n=c,(r=[{key:"_getForm",value:function(){return this._popupElement.querySelector(e.form)}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmit(t)})),K(Y(c.prototype),"setEventListeners",this).call(this)}}])&&$(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(O),ee=function(t,n,r,o){n.querySelector(e.button).textContent=t?o:r};function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=new G({url:"https://mesto.nomoreparties.co/v1/cohort-50/",headers:{authorization:"d9722592-b388-4281-b273-bb490f84d549","Content-type":"application/json"}}),re=ne.getUserInfoByRequest(),oe="",ie=new M({userNameSelector:u,userInfoSelector:c}),ue=new z(l,(function(e){ee(!0,l,"Сохранить","Сохранение..."),ne.patchProfileInfo(e).then((function(e){ie.setUserInfo(e),ue.close()})).catch((function(e){console.error(e)})).finally((function(){ee(!1,l,"Сохранить","Сохранение...")}))}));t.addEventListener("click",(function(){ue.open();var e=ie.getUserInfo(),t=e.name,n=e.about;o.value=t,i.value=n,me.setSubmitButtonState(),me.hideErrorMessages()}));var ce=new A(h);ce.setEventListeners();var ae,le="",se=new Z(y,(function(){ne.deleteCard(le).then((function(){ae.remove(),ae="",se.close()})).catch((function(e){console.error(e)}))}));se.setEventListeners();var pe=function(t){var n=new v({data:t,handleCardClick:function(e){ce.open(e)},handleLikeClick:function(t,r){t.querySelector(e.buttonLike).classList.contains(e.buttonLikeActive)?(t.querySelector(e.buttonLike).classList.toggle(e.buttonLikeActive),ne.deleteLike(r).then((function(e){n.getNumbersOfLikes(e.likes.length)})).catch((function(e){console.error(e)}))):(t.querySelector(e.buttonLike).classList.toggle(e.buttonLikeActive),ne.putLike(r).then((function(e){n.getNumbersOfLikes(e.likes.length)})).catch((function(e){console.error(e)})))},handleDeleteIconClick:function(e,t){le=e,ae=t,se.open()},getUserId:function(){return oe}},e.template);return n.generateCard()},fe=new E({renderer:function(e){fe.addItem(pe(e))}},f),he=ne.getInitialCards();Promise.all([re,he]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];oe=o._id,ie.setUserInfo(o),a.src=o.avatar,i.reverse(),fe.renderItems(i)})).catch((function(e){console.error(e)}));var ye=new z(s,(function(e){ee(!0,s,"Создать","Создание..."),ne.postNewPhoto(e).then((function(e){var t=pe(e);fe.addItem(t),ye.close()})).catch((function(e){console.error(e)})).finally((function(){ee(!1,s,"Создать","Создание...")}))}));n.addEventListener("click",(function(){ye.open(),ve.setSubmitButtonState(),ve.hideErrorMessages()}));var de=new z(_,(function(e){ee(!0,_,"Сохранить","Сохранение..."),ne.patchProfileAvatar(e).then((function(e){a.src=e.avatar})).catch((function(e){console.error(e)})).finally((function(){ee(!1,_,"Сохранить","Сохранение...")}))}));d.addEventListener("click",(function(){de.open(),Se.setSubmitButtonState(),Se.hideErrorMessages()})),ue.setEventListeners(),ye.setEventListeners(),de.setEventListeners();var _e=r.querySelector(e.button),me=new S(e,r,_e);me.enableValidation();var be=p.querySelector(e.button),ve=new S(e,p,be);ve.enableValidation();var ke=m.querySelector(e.button),Se=new S(e,m,ke);Se.enableValidation()})();